<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Specificity</title>
</head>
<body>
    <header>
        <h1>Specificity</h1>
    </header>

    <main>
        <p><strong>Specificity</strong> is the <em>algorithm</em> used by browsers to determine the CSS declaration that is the most releveant to an element, which in turn, determines the property value to apply to the element. The specificity algorithm calculates the weight of a CSS selector to determine which rule from competing CSS declarations sgets applied to an element.</p>

        <p><strong>Important: </strong>Browsers consider specificity after determining cascade origin and importance. In other words, for competing property declarations, specificity is relevant and compared only between selectors from the one cascade origin and layer that has precedence for the property. Scoping proximity and order of appearance bcome relevant whent he selector specificities of the competing delcarations in the cascade layer with precedence are equal!</p>

        <article>
            <h2>How is specificity calculated?</h2>
            <p>Specificity is an algorithm that calculates the weight that is applied to a given CSS declaration. The weight is determined by the number of selectors of each weight category in the selector matching the element. If there are two or more declarations providing different property values for the same element, the declaration value in the style block having the matching selector with the greatest algorithmic weight gets applied.</p>

            <p>The specificity algorithm is basically a three-column value of three categories or weights - ID, CLASS, and TYPE - corresponding to the three types of selectors. The value represents the count of selector components in each weight category and is written as ID - CLASS - TYPE. The three columns are created by counting the number of selector components for each selector weight category in the selectors that match the element.</p>

            <section>
                <h3>Selector weight categories</h3>
                <dl>
                    <dt>ID column</dt>
                    <dd>Includes only ID selectors, such as <code>#example</code>. For each ID in a matching selector, add 1-0-0 to the weight value.</dd>

                    <dt>CLASS column</dt>
                    <dd>Includes class selectors, such as <code>.myClass</code>.</dd>
                    <dd>Attribute selectors like <code>[type="radio"]</code> and <code>[lang|="fr"]</code>.</dd>
                    <dd>Pseudo-classes, such as <code>:hover</code>, <code>:nth-of-type(3n)</code>, and <code>:required</code></dd>
                    <dd>For each class, attribute selector, or pseudo-class in a matching selector, add 0-1-0 to the weight value.</dd>

                    <dt>TYPE column</dt>
                    <dd>Includes type selectors, such as <code>p</code>, <code>h1</code>, and <code>td</code>.</dd>
                    <dd>Includes pseudo-elements like <code>::before</code>, <code>::placeholder</code>, and all other selectors with double-colon notation</dd>
                    <dd>For each type or pseudo-element in a matching selector, add 0-0-1 to the weight value.</dd>

                    <dt>No value</dt>
                    <dd>The universal selector <code>*</code> and the pseudo-class <code>:where()</code> and its parameters aren't counted when calculating the weight so their value is 0-0-0, but they do match elements.</dd>
                    <dd>These selectors do not impact the specificity weight value.</dd>
                </dl>
            </section>

            <section>
                <h3>Matching selector</h3>

                <p>The specificity weight comes from the matching selector.</p>
                <pre><code>
                    [type="password"],
                    input:focus,
                    :root #myApp input:required {
                        color: blue;
                    }
                </code></pre>
                <p>The selector <code>[type="password"]</code> with a specificity of <code>0-1-0</code> applies the <code>color:blue</code> declaration to all password input types</p>
                
                <p>The <code>input:focus</code> selector with a weight of <code>0-1-1</code> applies to all inputs, no matter the type, when receiving focus. This weight is made up of the <code>:focus</code> pseudo-class (0-1-0) and the <code>input</code> type (0-0-1). If the password input has focus, it will match the <code>input:focus</code> selector., and the specificity weight for the <code>color:blue</code> style declaration will be <code>0-1-1</code>. When the password doesn't have focus, the specificity weight remains at <code>0-1-0</code> matching the <code>[type="password"]</code> selector.</p>

                <p>The <code>:root #myApp input:required</code> selector with specificity of <code>1-2-1</code> is based on one ID, two pseudo-classes, and one element type. This selector applies to all required inputs nested in an element with attribute <code>id="myApp"</code></p>

                <p>In this example if the password input type with required is nested in an element with <code>id="myApp"</code> set, the specificity weight will be <code>1-2-1</code> regardless whether or not it has focus. Why is the weight not <code>0-1-1</code> or <code>0-1-0</code>? This is because the specificity weight comes from the matching selector with the greatest specificity weight. The weight is determined by comparing the values in the three columns, from left to right.</p>

                <pre><code>
                    [type="password"] {
                        /* 0-1-0 */
                      }
                      input:focus {
                        /* 0-1-1 */
                      }
                      :root #myApp input:required {
                        /* 1-2-1 */
                      }
                </code></pre>
            </section>

            <section>
                <h3>Three-column comparison</h3>
            </section>
        </article>

        <article>
            <h2>Tips for handling specificity headaches</h2>
        </article>

        <article>
            <h2>Examples</h2>
        </article>

        <article>
            <h2>Additional notes</h2>
        </article>
    </main>

</body>
</html>